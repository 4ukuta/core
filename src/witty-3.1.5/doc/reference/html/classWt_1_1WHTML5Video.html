<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Wt: Wt::WHTML5Video Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceWt.html">Wt</a>::<a class="el" href="classWt_1_1WHTML5Video.html">WHTML5Video</a>
  </div>
</div>
<div class="contents">
<h1>Wt::WHTML5Video Class Reference</h1><!-- doxytag: class="Wt::WHTML5Video" --><!-- doxytag: inherits="Wt::WHTML5Media" -->A widget that renders video using the HTML5 video element.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Wt/WHTML5Video&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Wt::WHTML5Video:</div>
<div class="dynsection">
<p><center><img src="classWt_1_1WHTML5Video__inherit__graph.png" border="0" usemap="#Wt_1_1WHTML5Video__inherit__map" alt="Inheritance graph"></center>
<map name="Wt_1_1WHTML5Video__inherit__map">
<area shape="rect" href="classWt_1_1WHTML5Media.html" title="Abstract baseclass for HTML5 media elements." alt="" coords="5,237,139,267"><area shape="rect" href="classWt_1_1WWebWidget.html" title="A base class for widgets with an HTML counterpart." alt="" coords="11,160,133,189"><area shape="rect" href="classWt_1_1WWidget.html" title="The abstract base class for a user&#45;interface component." alt="" coords="24,83,120,112"><area shape="rect" href="classWt_1_1WObject.html" title="A base class for objects that participate in the signal/slot system." alt="" coords="25,5,119,35"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classWt_1_1WHTML5Video-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Video.html#f6e20e2f527a81db4fd3d55e46a88ec0">WHTML5Video</a> (<a class="el" href="classWt_1_1WContainerWidget.html">WContainerWidget</a> *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a HTML5 video widget.  <a href="#f6e20e2f527a81db4fd3d55e46a88ec0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Video.html#bb0c3e2be39815b4bc6d53908f6f3596">setPoster</a> (const std::string &amp;url)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the poster image.  <a href="#bb0c3e2be39815b4bc6d53908f6f3596"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Video.html#e197ff7dd2ee6e14dc5b41a0061a3672">jsVideoRef</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the JavaScript reference to the video object, or null.  <a href="#e197ff7dd2ee6e14dc5b41a0061a3672"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Video.html#808cb87ff2296ed4ff84fc0eea9c8972">resize</a> (const <a class="el" href="classWt_1_1WLength.html">WLength</a> &amp;width, const <a class="el" href="classWt_1_1WLength.html">WLength</a> &amp;height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resizes the widget.  <a href="#808cb87ff2296ed4ff84fc0eea9c8972"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A widget that renders video using the HTML5 video element. 
<p>
This class renders HTML5 video. In a typical usage scenario, you instantiate the class, set options, add one or multiple video sources. Since not every browser supports HTML5 video, the class provides a mechanism to display alternative content in browsers that cannot play the video.<p>
Usage example: <div class="fragment"><pre class="fragment"> <a class="code" href="classWt_1_1WHTML5Video.html#f6e20e2f527a81db4fd3d55e46a88ec0" title="Creates a HTML5 video widget.">WHTML5Video</a> *v = <span class="keyword">new</span> <a class="code" href="classWt_1_1WHTML5Video.html#f6e20e2f527a81db4fd3d55e46a88ec0" title="Creates a HTML5 video widget.">WHTML5Video</a>(parent);
 v-&gt;setOptions(<a class="code" href="classWt_1_1WHTML5Media.html#5e3e4388b65cf7d9acd01306ee9e10e31c0932603bbc72bc35090cf7481098d8" title="Start playing as soon as the video is loaded.">WHTML5Video::Autoplay</a> | <a class="code" href="classWt_1_1WHTML5Media.html#5e3e4388b65cf7d9acd01306ee9e10e37565510984d0f4640cbeb727ab175a28" title="Show video controls in the browser.">WHTML5Video::Controls</a>);
 <span class="comment">// Addsources may be called multiple times for different formats:</span>
 <span class="comment">// Firefox only plays ogg</span>
 v-&gt;addSource(<span class="stringliteral">"wt.ogv"</span>);
 <span class="comment">// many others play mp4</span>
 v-&gt;addSource(<span class="stringliteral">"wt.mp4"</span>, <span class="stringliteral">"video/mp4"</span>);
 <span class="comment">// Image to be displayed before playback starts</span>
 v-&gt;setPoster(<span class="stringliteral">"wt.jpg"</span>);
 <span class="comment">// You may display a simple text to explain that you need html5 support...</span>
 <span class="comment">// v-&gt;setAlternativeContent(new WText("You have no HTML5 Video!"));</span>
 <span class="comment">// ... or provide an alternative player, e.g. Flash-based</span>
 WFlashObject *f = <span class="keyword">new</span> WFlashObject(<span class="stringliteral">"player.swf"</span>, root());
 f-&gt;setFlashVariable(<span class="stringliteral">"startimage"</span>, <span class="stringliteral">"wt.jpg"</span>);
 f-&gt;setFlashVariable(<span class="stringliteral">"flv"</span>, <span class="stringliteral">"wt.mp4"</span>);
 f-&gt;resize(640, 384);
 v-&gt;setAlternativeContent(f);
</pre></div><p>
There are two reasons why the a browser may use the alternative content: either because the browser does not support the HTML5 video tag (alternative content is displayed even when JavaScript is not available), or because none of the specified sources contain a video format that is understood by the browser (requires JavaScript to display the alternative content).<p>
<a class="el" href="classWt_1_1WHTML5Media.html#ab2c0554a5cebfdb9fc37e90d3814234" title="Add a media source.">addSource()</a> and <a class="el" href="classWt_1_1WHTML5Media.html#a936f26ee6ee7fc3a4a240c078af1ec3" title="Content to be shown when media cannot be played.">setAlternativeContent()</a> must not be called after the <a class="el" href="classWt_1_1WHTML5Video.html" title="A widget that renders video using the HTML5 video element.">WHTML5Video</a> was rendered. This can easily be avoided by calling these functions right after construction.<p>
This is a technology-specific class. To let Wt choose a technology (and fallback technologies) to display your videos, use the WVideo class. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f6e20e2f527a81db4fd3d55e46a88ec0"></a><!-- doxytag: member="Wt::WHTML5Video::WHTML5Video" ref="f6e20e2f527a81db4fd3d55e46a88ec0" args="(WContainerWidget *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WHTML5Video::WHTML5Video           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWt_1_1WContainerWidget.html">WContainerWidget</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a HTML5 video widget. 
<p>
The constructor sets the 'controls' option, which causes the browser to display a bar with play/pauze/volume/... controls.<p>
A freshly constructed HTML5Video widget has no poster image, no media sources, has preload mode set to PreloadAuto, and only the Controls flag is set. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="bb0c3e2be39815b4bc6d53908f6f3596"></a><!-- doxytag: member="Wt::WHTML5Video::setPoster" ref="bb0c3e2be39815b4bc6d53908f6f3596" args="(const std::string &amp;url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WHTML5Video::setPoster           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>url</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the poster image. 
<p>
On browsers that support it, the poster image is displayed before the video is playing. Some browsers display the first frame of the video stream once the video stream is loaded; it is therefore a good idea to include the poster image as first frame in the video feed too. 
</div>
</div><p>
<a class="anchor" name="e197ff7dd2ee6e14dc5b41a0061a3672"></a><!-- doxytag: member="Wt::WHTML5Video::jsVideoRef" ref="e197ff7dd2ee6e14dc5b41a0061a3672" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string WHTML5Video::jsVideoRef           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the JavaScript reference to the video object, or null. 
<p>
It is possible, for compatibility reasons, that <a class="el" href="classWt_1_1WWidget.html#a2b7078b3b43d53a85e5244b45d504f7" title="Returns a JavaScript expression to the corresponding DOM node.">jsRef()</a> is not the HTML5 video element. <a class="el" href="classWt_1_1WHTML5Video.html#e197ff7dd2ee6e14dc5b41a0061a3672" title="Returns the JavaScript reference to the video object, or null.">jsVideoRef()</a> is guaranteed to be an expression that evaluates to the video object. This expression may yield null, if the video object is not rendered at all (e.g. on older versions of Internet Explorer). 
</div>
</div><p>
<a class="anchor" name="808cb87ff2296ed4ff84fc0eea9c8972"></a><!-- doxytag: member="Wt::WHTML5Video::resize" ref="808cb87ff2296ed4ff84fc0eea9c8972" args="(const WLength &amp;width, const WLength &amp;height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WHTML5Video::resize           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWt_1_1WLength.html">WLength</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classWt_1_1WLength.html">WLength</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resizes the widget. 
<p>
Specify a new size for this widget, by specifying width and height. By default a widget has automatic width and height, see <a class="el" href="classWt_1_1WLength.html#b4c9733029342fdbc1dee34a523ee40d" title="Returns whether the ength is &#39;auto&#39;.">WLength::isAuto()</a>.<p>
This applies to CSS-based layout, and only <a class="el" href="classWt_1_1WWebWidget.html#73c0244d363cd2f8bd4814fe1ebee2b1">block</a> widgets can be given a size reliably.<p>
When inserted in a layout manager, the widget may be informed about its current size using <a class="el" href="classWt_1_1WWidget.html#4f83592912a7f8fa4fd35dadde78ee74" title="Sets the widget to be aware of its size set by a layout manager.">setLayoutSizeAware()</a>. If you have defined a "wtResize()" JavaScript method for the widget, then this method will also be called. operation.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WWebWidget.html#4187ef41415521e545106c970c2679f2" title="Returns the width.">width()</a>, <a class="el" href="classWt_1_1WWebWidget.html#7321103dca90574bbc3ac6ea9a91ccff" title="Returns the height.">height()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classWt_1_1WWebWidget.html#e1b84e31581405358b6d57ec14505234">Wt::WWebWidget</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="align: right;"><small>
Generated on Fri Sep 10 16:33:02 2010 for <a href="http://www.webtoolkit.eu/wt/">Wt</a> by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6</small></address>
</body>
</html>
