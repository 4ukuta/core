<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Wt: Wt::WHTML5Audio Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceWt.html">Wt</a>::<a class="el" href="classWt_1_1WHTML5Audio.html">WHTML5Audio</a>
  </div>
</div>
<div class="contents">
<h1>Wt::WHTML5Audio Class Reference</h1><!-- doxytag: class="Wt::WHTML5Audio" --><!-- doxytag: inherits="Wt::WHTML5Media" -->A widget that plays audio using the HTML5 audio element.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Wt/WHTML5Audio&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Wt::WHTML5Audio:</div>
<div class="dynsection">
<p><center><img src="classWt_1_1WHTML5Audio__inherit__graph.png" border="0" usemap="#Wt_1_1WHTML5Audio__inherit__map" alt="Inheritance graph"></center>
<map name="Wt_1_1WHTML5Audio__inherit__map">
<area shape="rect" href="classWt_1_1WHTML5Media.html" title="Abstract baseclass for HTML5 media elements." alt="" coords="5,237,139,267"><area shape="rect" href="classWt_1_1WWebWidget.html" title="A base class for widgets with an HTML counterpart." alt="" coords="11,160,133,189"><area shape="rect" href="classWt_1_1WWidget.html" title="The abstract base class for a user&#45;interface component." alt="" coords="24,83,120,112"><area shape="rect" href="classWt_1_1WObject.html" title="A base class for objects that participate in the signal/slot system." alt="" coords="25,5,119,35"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classWt_1_1WHTML5Audio-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Audio.html#ea5306ece0966777559ee120a2127cb2">WHTML5Audio</a> (<a class="el" href="classWt_1_1WContainerWidget.html">WContainerWidget</a> *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a HTML5 audio widget.  <a href="#ea5306ece0966777559ee120a2127cb2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WHTML5Audio.html#47f8875cff3af7b3714200b8b484b5f1">jsAudioRef</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the JavaScript reference to the audio object, or null.  <a href="#47f8875cff3af7b3714200b8b484b5f1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A widget that plays audio using the HTML5 audio element. 
<p>
This class plays HTML5 audio. In a typical usage scenario, you instantiate the class, set options, and add one or multiple audio sources. The browser will play the first audio stream that it is capable to play back.<p>
Since not every browser supports HTML5 audio, the class provides a mechanism to display alternative content in browsers that cannot play the audio. A Flash based player, configured to play the same audio file, is an example of sensible alternative content.<p>
Usage example: <div class="fragment"><pre class="fragment"> <a class="code" href="classWt_1_1WHTML5Audio.html#ea5306ece0966777559ee120a2127cb2" title="Creates a HTML5 audio widget.">WHTML5Audio</a> *a = <span class="keyword">new</span> <a class="code" href="classWt_1_1WHTML5Audio.html#ea5306ece0966777559ee120a2127cb2" title="Creates a HTML5 audio widget.">WHTML5Audio</a>(parent);
 v-&gt;setOptions(<a class="code" href="classWt_1_1WHTML5Media.html#5e3e4388b65cf7d9acd01306ee9e10e31c0932603bbc72bc35090cf7481098d8" title="Start playing as soon as the video is loaded.">WHTML5Media::Autoplay</a> | <a class="code" href="classWt_1_1WHTML5Media.html#5e3e4388b65cf7d9acd01306ee9e10e37565510984d0f4640cbeb727ab175a28" title="Show video controls in the browser.">WHTML5Media::Controls</a>);
 <span class="comment">// Addsources may be called multiple times for different formats:</span>
 <span class="comment">// Firefox only plays ogg</span>
 a-&gt;addSource(<span class="stringliteral">"the_wt_song.ogg"</span>);
 <span class="comment">// many others play mp3</span>
 a-&gt;addSource(<span class="stringliteral">"the_wt_song.mp3"</span>, <span class="stringliteral">"audio/mp3"</span>);
 <span class="comment">// You may display a simple text to explain that you need html5 support...</span>
 <span class="comment">// a-&gt;setAlternativeContent(new WText("You have no HTML5 Audio!"));</span>
 <span class="comment">// ... or provide an alternative player, e.g. Flash-based</span>
 WFlashObject *f = <span class="keyword">new</span> WFlashObject(<span class="stringliteral">"player.swf"</span>);
 f-&gt;setFlashVariable(<span class="stringliteral">"src"</span>, <span class="stringliteral">"the_wt_song.mp3"</span>);
 v-&gt;setAlternativeContent(f);
</pre></div><p>
There are two reasons why the a browser may use the alternative content: either because the browser does not support the HTML5 audio tag (alternative content is displayed even when JavaScript is not available), or because none of the specified sources contain an audio format that is understood by the browser (requires JavaScript to display the alternative content).<p>
<a class="el" href="classWt_1_1WHTML5Media.html#ab2c0554a5cebfdb9fc37e90d3814234" title="Add a media source.">addSource()</a> and <a class="el" href="classWt_1_1WHTML5Media.html#a936f26ee6ee7fc3a4a240c078af1ec3" title="Content to be shown when media cannot be played.">setAlternativeContent()</a> must not be called after the <a class="el" href="classWt_1_1WHTML5Audio.html" title="A widget that plays audio using the HTML5 audio element.">WHTML5Audio</a> was rendered. This can easily be avoided by calling these functions right after construction.<p>
This is a technology-specific class. To let Wt choose a technology (and fallback technologies) to display your videos, use the <a class="el" href="classWt_1_1WSound.html" title="Utility class to play a sound.">WSound</a> class.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WHTML5Media.html" title="Abstract baseclass for HTML5 media elements.">WHTML5Media</a>, <a class="el" href="classWt_1_1WSound.html" title="Utility class to play a sound.">WSound</a> </dd></dl>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="ea5306ece0966777559ee120a2127cb2"></a><!-- doxytag: member="Wt::WHTML5Audio::WHTML5Audio" ref="ea5306ece0966777559ee120a2127cb2" args="(WContainerWidget *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WHTML5Audio::WHTML5Audio           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWt_1_1WContainerWidget.html">WContainerWidget</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a HTML5 audio widget. 
<p>
A freshly constructed HTML5Audio widget has no media sources, no options, and has preload mode set to PreloadAuto. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="47f8875cff3af7b3714200b8b484b5f1"></a><!-- doxytag: member="Wt::WHTML5Audio::jsAudioRef" ref="47f8875cff3af7b3714200b8b484b5f1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string WHTML5Audio::jsAudioRef           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the JavaScript reference to the audio object, or null. 
<p>
It is possible, for browser compatibility reasons, that <a class="el" href="classWt_1_1WWidget.html#a2b7078b3b43d53a85e5244b45d504f7" title="Returns a JavaScript expression to the corresponding DOM node.">jsRef()</a> is not the HTML5 audio element. <a class="el" href="classWt_1_1WHTML5Audio.html#47f8875cff3af7b3714200b8b484b5f1" title="Returns the JavaScript reference to the audio object, or null.">jsAudioRef()</a> is guaranteed to be an expression that evaluates to the media object. This expression may yield null, if the video object is not rendered at all (e.g. on older versions of Internet Explorer). 
</div>
</div><p>
</div>
<hr size="1"><address style="align: right;"><small>
Generated on Fri Sep 10 16:33:02 2010 for <a href="http://www.webtoolkit.eu/wt/">Wt</a> by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6</small></address>
</body>
</html>
