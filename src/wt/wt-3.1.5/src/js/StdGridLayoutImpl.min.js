WT_DECLARE_WT_MEMBER(1,"StdLayout",function(a,s,r){var u=this;this.marginH=function(b){var i=b.parentNode;return a.px(b,"marginLeft")+a.px(b,"marginRight")+a.px(b,"borderLeftWidth")+a.px(b,"borderRightWidth")+a.px(i,"paddingLeft")+a.px(i,"paddingRight")};this.marginV=function(b){return a.px(b,"marginTop")+a.px(b,"marginBottom")+a.px(b,"borderTopWidth")+a.px(b,"borderBottomWidth")+a.px(b,"paddingTop")+a.px(b,"paddingBottom")};this.adjustRow=function(b,i){if(b.style.height!=i+"px")b.style.height=i+
"px";b=b.childNodes;var j,k,m;j=0;for(k=b.length;j<k;++j){m=b[j];var d=i-a.pxself(m,"paddingTop")-a.pxself(m,"paddingBottom");if(d<=0)d=0;m.style.height=d+"px";if(!(m.style.verticalAlign||m.childNodes.length==0)){var e=m.childNodes[0];if(d<=0)d=0;if(e.className=="Wt-hcenter"){e.style.height=d+"px";e=e.firstChild.firstChild;if(!a.hasTag(e,"TD"))e=e.firstChild;if(e.style.height!=d+"px")e.style.height=d+"px";e=e.firstChild}if(m.childNodes.length==1)d+=-this.marginV(e);if(d<=0)d=0;if(!a.hasTag(e,"TABLE"))if(e.wtResize){m=
e.parentNode.offsetWidth-u.marginH(e);e.wtResize(e,m,d)}else if(e.style.height!=d+"px"){e.style.height=d+"px";if(e.className=="Wt-wrapdiv")if(a.isIE&&a.hasTag(e.firstChild,"TEXTAREA"))e.firstChild.style.height=d-a.pxself(e,"marginBottom")+"px"}}}};this.adjust=function(){var b=a.getElement(s);if(!b)return false;u.initResize&&u.initResize(a,s,r);if(a.isHidden(b))return true;var i=b.firstChild;if(i.style.height!="")i.style.height="";if(!(b.dirty||i.w!=b.clientWidth||i.h!=b.clientHeight))return true;
b.dirty=null;var j=a.pxself(b.parentNode,"height");if(j==0){j=b.parentNode.clientHeight;j+=-a.px(b.parentNode,"paddingTop")-a.px(b.parentNode,"paddingBottom")}j+=-a.px(b,"marginTop")-a.px(b,"marginBottom");var k,m;if(b.parentNode.children){k=0;for(m=b.parentNode.children.length;k<m;++k){var d=b.parentNode.children[k];if(d!=b)j-=$(d).outerHeight()}}var e=0,p=0,l,t;l=k=0;for(m=i.rows.length;k<m;k++){d=i.rows[k];if(d.className=="Wt-hrh")j-=d.offsetHeight;else{p+=r.minheight[l];if(r.stretch[l]<=0)j-=
d.offsetHeight;else e+=r.stretch[l];++l}}j=j>p?j:p;if(e!=0&&j>0){p=j;var n;l=k=0;for(m=i.rows.length;k<m;k++)if(i.rows[k].className!="Wt-hrh"){d=i.rows[k];if(r.stretch[l]!=0){if(r.stretch[l]!=-1){n=j*r.stretch[l]/e;n=p>n?n:p;n=Math.round(r.minheight[l]>n?r.minheight[l]:n);p-=n}else n=d.offsetHeight;this.adjustRow(d,n)}++l}}i.w=b.clientWidth;i.h=b.clientHeight;if(i.style.tableLayout!="fixed")return true;e=0;l=i.childNodes;b=0;for(j=l.length;b<j;b++){p=l[b];var x,z,y;if(a.hasTag(p,"COLGROUP")){b=-1;
l=p.childNodes;j=l.length}if(a.hasTag(p,"COL")){if(a.pctself(p,"width")==0){k=n=0;for(m=i.rows.length;k<m;k++){d=i.rows[k];d=d.childNodes;z=x=0;for(y=d.length;z<y;z++){t=d[z];if(t.colSpan==1&&x==e&&t.childNodes.length==1){d=t.firstChild;d=d.offsetWidth+u.marginH(d);n=Math.max(n,d);break}x+=t.colSpan;if(x>e)break}}if(n>0&&a.pxself(p,"width")!=n)p.style.width=n+"px"}++e}}return true}});
WT_DECLARE_WT_MEMBER(2,"StdLayout.prototype.initResize",function(a,s,r){function u(c){var f,g,h,o=a.getElement(s).firstChild.childNodes;g=f=0;for(h=o.length;g<h;g++){var q=o[g];if(a.hasTag(q,"COLGROUP")){g=-1;o=q.childNodes;h=o.length}if(a.hasTag(q,"COL"))if(q.className!="Wt-vrh")if(f==c)return q;else++f}return null}function b(c,f){if(c.offsetWidth>0)return c.offsetWidth;else{c=c.parentNode.rows[0];var g,h,o,q;o=h=0;for(q=c.childNodes.length;h<q;++h){g=c.childNodes[h];if(g.className!="Wt-vrh"){if(o==
f)return g.offsetWidth;o+=g.colSpan}}return 0}}function i(c,f){var g=a.getElement(s).firstChild;u(c).style.width=f+"px";var h,o,q,v;o=h=0;for(q=g.rows.length;h<q;h++){v=g.rows[h];if(v.className!="Wt-hrh"){var w,B,D,F;D=B=0;for(F=v.childNodes.length;B<F;++B){w=v.childNodes[B];if(w.className!="Wt-vrh"){if(w.colSpan==1&&D==c&&w.childNodes.length==1){v=w.firstChild;w=f-p.marginH(v);v.style.width=w+"px";break}D+=w.colSpan}}++o}}}function j(c,f,g){var h=c.firstChild;new a.SizeHandle(a,"v",h.offsetHeight,
h.offsetWidth,-c.parentNode.previousSibling.offsetHeight,c.parentNode.nextSibling.offsetHeight,"Wt-vsh",function(o){m(c,f,o)},h,l,g,0,0)}function k(c,f,g){var h=-c.previousSibling.offsetWidth,o=c.nextSibling.offsetWidth,q=c.firstChild,v=a.pxself(t.rows[0].childNodes[0],"paddingTop"),w=a.pxself(t.rows[t.rows.length-1].childNodes[0],"paddingBottom");new a.SizeHandle(a,"h",q.offsetWidth,t.offsetHeight-v-w,h,o,"Wt-hsh",function(B){e(c,f,B)},q,l,g,0,-c.offsetTop+v-a.pxself(c,"paddingTop"))}function m(c,
f,g){var h=c.parentNode.previousSibling;c=c.parentNode.nextSibling;var o=h.offsetHeight,q=c.offsetHeight;if(r.stretch[f]>0&&r.stretch[f+1]>0)r.stretch[f]=-1;if(r.stretch[f+1]==0)r.stretch[f+1]=-1;r.stretch[f]<=0&&p.adjustRow(h,o+g);r.stretch[f+1]<=0&&p.adjustRow(c,q-g);a.getElement(s).dirty=true;window.onresize()}function d(){var c,f=0;for(c=0;;++c){var g=u(c);if(g)f+=a.pctself(g,"width");else break}if(f!=0)for(c=0;;++c)if(g=u(c)){var h=a.pctself(g,"width");if(h)g.style.width=h*100/f+"%"}else break}
function e(c,f,g){c=u(f);var h=b(c,f),o=u(f+1),q=b(o,f+1);if(a.pctself(c,"width")>0&&a.pctself(o,"width")>0){c.style.width="";d()}a.pctself(c,"width")==0&&i(f,h+g);a.pctself(o,"width")==0&&i(f+1,q-g);window.onresize()}var p=this,l=a.getElement(s);if(l)if(!p.resizeInitialized){var t=l.firstChild,n,x,z,y;x=n=0;for(z=t.rows.length;n<z;n++){y=t.rows[n];if(y.className=="Wt-hrh"){var A=y.firstChild;A.ri=x-1;A.onmousedown=function(c){j(this,this.ri,c||window.event)}}else{var C,E,G;E=C=0;for(G=y.childNodes.length;C<
G;++C){A=y.childNodes[C];if(A.className=="Wt-vrh"){A.ci=E-1;A.onmousedown=function(c){k(this,this.ci,c||window.event)}}else E+=A.colSpan}++x}}p.resizeInitialized=true}});WT_DECLARE_APP_MEMBER(1,"layouts",[]);WT_DECLARE_APP_MEMBER(2,"layoutsAdjust",function(a){if(a){if(a=$("#"+a).get(0))a.dirty=true}else if(!this.adjusting){this.adjusting=true;var s;for(s=0;s<this.layouts.length;++s){a=this.layouts[s];if(!a.adjust()){this.WT.arrayRemove(this.layouts,s);--s}}this.adjusting=false}});
